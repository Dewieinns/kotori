<!DOCTYPE html>
<html>
<head>

    <style type="text/css">
        .block {
            background-color: #ccc;
            padding: 1em;
            margin: 1em;
        }
    </style>

    <title>Kotori Dashboard on $$node_id</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="static/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="static/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
    <link href="static/css/bootstrap-editable.css" rel="stylesheet" type="text/css"/>

    <script language="javascript">
        var wsuri = '$$websocket_uri';
    </script>
</head>
<body>

<br/>

<script type="text/template" id="node-template">
    <div class="col-6 col-sm-6 col-lg-4">

        <div class="panel panel-success">

        <div class="panel-heading">
            <h3 class="panel-title"><span id="node-label-<%- rc.node_id %>"><%- rc.node_label %></span></h3>
        </div>
        <div class="panel-body">
            <h6>
                Hostname: <%- rc.node_hostname %>
                <br/>
                Node Id: <%- rc.node_id %>
            </h6>
            <span id="online-<%- rc.node_id %>" class="label label-success">Online</span>
            <span id="offline-<%- rc.node_id %>" class="label label-danger">Offline</span>

            <br/><br/>

            <p>
                Send a text-to-speech message:
            </p>
            <p>
                <form id="say-<%- rc.node_id %>">
                    <!--
                    <p>Node:
                        <select id="node_id-0" name="node_id">
                        </select>
                    </p>
                    -->

                    <div class="input-group input-group">
                        <span class="input-group-addon">TTS</span>
                        <input id="tts-<%- rc.node_id %>" name="message" class="form-control" type="text" value="Hallo!" size="50" maxlength="50">
                    </div>
                    </p>
                </form>
            </p>
            <!--
            <p>
                <button class="btn btn-default" onclick="sayText($('#node_id-0').val(), $('#message-0').val())">TTS</button>
            </p>
            -->

            <div id="activity-<%- rc.node_id %>" class="alert alert-success text-center hide"><b>PIR SENSOR ACTIVITY</b></div>
            <div id="privacy-<%- rc.node_id %>" class="alert alert-danger text-center hide"><b>PRIVACY MODE</b></div>

        </div>
        </div>

    </div>

</script>


<div class="container">



    <div class="row panel panel-default panel-info">
        <div class="panel-heading">
            <h3 class="panel-title" style="display: inline">Timeseries prototype</h3>
        </div>
        <div class="panel-body">
            <div id="chart"></div>
        </div>
    </div>

    <div class="row panel panel-default panel-info">
        <div class="panel-heading">
            <h3 class="panel-title" style="display: inline">Map</h3>
            &nbsp;&nbsp;&nbsp;
            <button id="CenterMap">Where is my car?</button>
        </div>
        <div class="panel-body">
            <div id="map"></div>
        </div>
    </div>

    <div class="row panel panel-default panel-info">
        <div class="panel-heading">
            <h3 class="panel-title" style="display: inline">Telemetry Data</h3>
            &nbsp;&nbsp;&nbsp;
            <button id="telemetry-clear">Clear</button>
        </div>
        <div class="panel-body">
            <div id="telemetry-content">
            </div>
        </div>
    </div>

<div class="row panel panel-default panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">Kotori Dashboard</h3>
        </div>
        <div class="panel-body">
            <div class="pull-left">
                Hostname: $$hostname
                <br/>
                Node Id: $$node_id
                <br/>
                Websocket URI: $$websocket_uri
            </div>
            <div class="pull-right">
                <button id="operator-presence" type="button" class="btn active btn-primary btn-lg" data-toggle="button">OperatorPresence</button>
            </div>
        </div>
    </div>

    <div class="row row-offcanvas row-offcanvas-right">

        <!-- <div class="col-xs-12 col-sm-9"> -->
        <div class="col-xs-18 col-sm-12">
            <!--
            <p class="pull-right visible-xs">
                <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
            </p>
            -->

            <div class="row" id="item-container"/>
            <!--/row-->
        </div>
        <!--/span-->

        <!--
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
            <div class="list-group">
                <a href="#" class="list-group-item active">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
                <a href="#" class="list-group-item">Link</a>
            </div>
        </div>
        -->

        <!--/span-->
    </div>
    <!--/row-->

    <footer>
        <p>&copy; 2015 IsarEngineering GmbH, Elmyra UG</p>
    </footer>

</div>
<!--/.container-->

<script src="static/js/jquery.min.js"></script>
<script src="static/js/purl.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/bootstrap-editable.min.js"></script>
<script src="static/js/underscore-min.js"></script>

<!-- Load leaflet.js -->
<link rel="stylesheet" href="static/css/leaflet.css" />
<script src="static/js/leaflet.js"></script>



<!-- Load d3.js -->
<script src="static/js/d3.v3.min.js" charset="utf-8"></script>
<!-- Rickshaw -->
<link href="static/css/rickshaw.min.css" rel="stylesheet" type="text/css">
<script src="static/js/rickshaw.min.js"></script>

<script src="static/js/cbuffer.js"></script>

<script src="static/js/autobahn.min.js"></script>
<script src="static/app/kotori.js"></script>

</body>
</html>
